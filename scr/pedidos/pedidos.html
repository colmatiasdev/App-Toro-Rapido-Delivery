<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Toro Rápido - Pedidos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Inter:wght@400;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="pedidos.css">
    <link rel="stylesheet" href="../footer/footer.css">
</head>
<body>

<div id="overlay-carga">
    <i class="fas fa-spinner fa-spin fa-3x" style="color: var(--whatsapp-color);"></i>
    <p style="margin-top:15px; font-weight:700;">Procesando pedido...</p>
</div>

<div class="contenedor">
    <div id="pedidos-banner-reserva" class="pedidos-banner-reserva" style="display:none;">
        <div class="pedidos-banner-reserva-content">
            <div class="pedidos-banner-reserva-titulo"><i class="fa-solid fa-calendar-check"></i> Estás realizando una <strong>RESERVA</strong></div>
            <p class="pedidos-banner-reserva-leyenda">La reserva del pedido será tomada al momento de la apertura del local.</p>
            <p id="pedidos-banner-reserva-tiempo" class="pedidos-banner-reserva-tiempo" style="display:none;"></p>
        </div>
    </div>
    <a id="link-modificar-pedido" href="../menu/menu-simple/menu-simple.html" class="boton-volver-menu" onclick="sessionStorage.setItem('toro_scroll_resumen','1')">
        <i class="fa-solid fa-pen-to-square"></i> <span id="link-modificar-texto">Modificar pedido</span>
    </a>

    <div class="resumen-menu" id="resumen-menu" style="display:none;">
        <div class="resumen-menu-title">Resumen del pedido realizado</div>
        <div id="resumen-menu-items"></div>
        <div class="resumen-menu-row">
            <span>Subtotal</span>
            <strong id="resumen-menu-subtotal">$ 0</strong>
        </div>
        <div class="resumen-menu-row resumen-envio-row" id="resumen-envio-row">
            <span>Envío</span>
            <strong id="resumen-menu-envio">$ 0</strong>
        </div>
        <div class="resumen-menu-total">
            <span>Total</span>
            <strong id="resumen-menu-total">$ 0</strong>
        </div>
        <div id="resumen-menu-note" class="resumen-menu-note">Revisá tu pedido antes de enviarlo por WhatsApp.</div>
    </div>

    <div class="resumen-caja" id="caja-resumen">
        <div style="font-weight: 800; margin-bottom: 15px; color: var(--azul-oscuro); text-align: center; text-transform: uppercase;">Resumen de Pedido</div>
        <div id="lista-resumen"></div>
        
        <div class="fila-resumen" id="fila-envio" style="border-bottom: none; color: #166534;">
            <span>Gastos de Envío</span>
            <strong id="monto-envio">$ 0</strong>
        </div>

        <div class="total-badge">
            <span style="font-weight:700;">TOTAL ESTIMADO</span>
            <span id="monto-total-display" style="font-weight:900; color:var(--rojo-toro); font-size:1.4em;">$ 0</span>
        </div>
        <div class="zona-aviso">
            ⚠️ Una vez recibido el pedido, analizaremos tu domicilio para confirmar si contamos con entregas en tu zona.
        </div>
    </div>

    <div class="datos-cliente">
        <div style="font-weight: 800; color: #166534; margin-bottom: 15px; font-size: 1em; text-align: center;"><i class="fa-solid fa-truck-fast"></i> DATOS DE ENTREGA</div>
        
        <div class="input-group">
            <label>Nombre de quien recibe:</label>
            <i class="fa-solid fa-user"></i>
            <input type="text" id="cust-name" class="input-field" placeholder="Ej: Juan Pérez" value="María Cabrera">
        </div>

        <div class="input-group">
            <label>WhatsApp:</label>
            <i class="fa-solid fa-phone"></i>
            <input type="tel" id="cust-phone" class="input-field" placeholder="Ej: 3814556677" value="3813434720">
        </div>

        <div class="input-group">
            <label>Domicilio:</label>
            <i class="fa-solid fa-location-dot"></i>
            <input type="text" id="cust-address" class="input-field" placeholder="Calle, número, piso y depto..." value="San Martín 742, Piso 2, Depto B">
        </div>
    </div>

    <div class="aviso-legal-pedido" aria-label="Cláusula de descargo y términos">
        <p class="aviso-resumen"><strong>IMPORTANTE:</strong> El detalle del pedido está sujeto a revisión. Rige la carta vigente del local ante cualquier anomalía. Al enviar por WhatsApp aceptás los términos indicados a continuación.</p>
        <details class="aviso-details">
            <summary class="aviso-summary">
                <span class="aviso-leer-mas">Leer más</span>
                <span class="aviso-leer-menos">Leer menos</span>
            </summary>
            <div class="aviso-texto-completo">
                <p><strong>Cláusula de descargo y términos aceptados al enviar el pedido por WhatsApp</strong></p>
                <p>El detalle del pedido —cantidad, descripción de ítems, precios y totales— queda sujeto a revisión y confirmación por el establecimiento. El texto generado por esta aplicación y enviado por WhatsApp tiene carácter meramente informativo y de buena fe; puede ser modificado por el usuario antes o después de su envío y <strong>no constituye oferta vinculante, propuesta contractual ni documento con valor legal</strong>. Prevalece como única referencia válida y obligatoria la carta y los precios vigentes del local al momento de la confirmación del pedido por parte del comercio.</p>
                <p>El establecimiento <strong>no se responsabiliza</strong> por discrepancias, errores, omisiones o reclamaciones derivadas de alteraciones del mensaje, de su interpretación o de la utilización de medios electrónicos o de terceros. Al utilizar el botón «Enviar por WhatsApp» el usuario declara conocer y aceptar en forma expresa estos términos y condiciones en su totalidad, para todos los efectos legales que correspondan.</p>
                <p><em>Sin perjuicio de los derechos que las leyes de defensa del consumidor no permitan renunciar, el uso de esta funcionalidad implica la aceptación de las limitaciones aquí indicadas.</em></p>
            </div>
        </details>
    </div>

    <button onclick="enviarPedido()" class="boton-pedido">
        <i class="fa-brands fa-whatsapp fa-xl"></i> ENVIAR POR WHATSAPP
    </button>
    <div id="site-footer"></div>
</div>

    <script src="../../config.js"></script>
    <script src="../menu/horario-atencion.js"></script>
    <script src="../footer/footer.js"></script>
    <script src="pedidos.js"></script>
</body>
</html>
